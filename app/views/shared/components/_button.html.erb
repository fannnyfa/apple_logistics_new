<%#
  Button component inspired by Shadcn UI
  Usage: render 'shared/components/button', text: 'Click me', variant: 'primary', size: 'md'
%>
<% 
  variant ||= 'primary'
  size ||= 'md'
  disabled ||= false
  type ||= 'button'
  classes ||= ''
  
  base_classes = "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"
  
  variant_classes = case variant
  when 'primary'
    'bg-slate-900 dark:bg-slate-50 text-slate-50 dark:text-slate-900 hover:bg-slate-800 dark:hover:bg-slate-200 shadow-sm'
  when 'secondary'
    'bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-slate-100 hover:bg-slate-200 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700'
  when 'outline'
    'border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-900 dark:text-slate-100'
  when 'ghost'
    'hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-900 dark:text-slate-100'
  when 'destructive'
    'bg-red-500 dark:bg-red-600 text-white hover:bg-red-600 dark:hover:bg-red-700 shadow-sm'
  when 'success'
    'bg-green-500 dark:bg-green-600 text-white hover:bg-green-600 dark:hover:bg-green-700 shadow-sm'
  when 'warning'
    'bg-yellow-500 dark:bg-yellow-600 text-white hover:bg-yellow-600 dark:hover:bg-yellow-700 shadow-sm'
  else
    'bg-slate-900 dark:bg-slate-50 text-slate-50 dark:text-slate-900 hover:bg-slate-800 dark:hover:bg-slate-200 shadow-sm'
  end
  
  size_classes = case size
  when 'sm'
    'h-8 px-3 text-xs'
  when 'md'
    'h-10 px-4 py-2'
  when 'lg'
    'h-12 px-6 py-3'
  when 'icon'
    'h-10 w-10'
  else
    'h-10 px-4 py-2'
  end
  
  all_classes = "#{base_classes} #{variant_classes} #{size_classes} #{classes}"
%>

<% if defined?(href) && href %>
  <%= link_to href, class: all_classes do %>
    <%= yield %>
  <% end %>
<% else %>
  <button type="<%= type %>" class="<%= all_classes %>" <%= 'disabled' if disabled %>>
    <%= yield %>
  </button>
<% end %>